<mat-dialog-content>
  <p>Create product</p>
  <form [formGroup]="productForm">

    <div class="df g15 alc">
      <mat-form-field appearance="outline" class="example-full-width auth-label">
        <mat-label>Enter name</mat-label>
        <input 
          required 
          matInput 
          type="text"
          formControlName="name"
          >
      </mat-form-field>
      <mat-form-field appearance="outline" class="example-full-width auth-label">
        <mat-label>Enter price</mat-label>
        <input 
          required 
          matInput 
          type="text"
          formControlName="price"
          >
      </mat-form-field>
      <mat-form-field appearance="outline" class="example-full-width auth-label">
        <mat-label>Enter old price</mat-label>
        <input 
          matInput 
          type="text"
          formControlName="oldPrice"
          >
      </mat-form-field>

    </div>

    <div class="filters-cahrs" formGroupName="chars">
      @if(filtersService.filters$ | async; as filters) {
        <div class="df g10 fdc">
         @for(filter of filters; track filter.title) {
            @if(filter.title === "Types" || filter.title === "Genders") {
              <div class="">{{filter.title}}</div>
              <div class="df alc g10 fww">
                @for(item of filter.data; track item) {        
                  <div 
                  class="filters-btn">{{item.value}}</div>
                }
              </div>
            } @else {
              <div class="">{{filter.title}}</div>
              <div class="df alc g10 fww"  >
                @for(item of filter.data; track item) {        
                  <div 
                  [ngClass]="{'act': isItemActive(filter.title, item.id)}"
                  (click)="changeMulriSelect(filter.title, item.id)" 
                   class="filters-btn">{{item.value}}</div>
                }
              </div>
              }
            }
          </div>
      
      }
    </div>
    <!-- [formGroupName]="i"  -->
    <!-- <div formArrayName="imgs"> -->
      <!-- <ng-container *ngFor="let item of imgs.controls; let i = index"> -->
        <div >
          <div class="mt10">Imges</div>
            <label class="signUpForm__label">
              <!-- <div class="signUpForm__label-title">{{i + 1}} | img</div> -->
              <input
                (change)="changeImgs($event)" 
                multiple 
                required 
                type="file" 
                accept="image/*,.png,.jpg,.gig,.web,"
                class="signUpForm__label-input" 
                formControlName="imgs"/>
            </label>
            <!-- <button mat-button (click)="removeImg(i)">Del img </button> -->
        </div>

        <div class="df alc g15">
          <ng-container *ngFor="let imgName of this.imgs()">
            <div class="img-forms">
              <img [src]='imgName.src'  [alt]="imgName.name" />
            </div>
          </ng-container>
        </div>
      <!-- </ng-container> -->
    <!-- </div> -->



    <!-- <button mat-button class="accent" (click)="addNewImg($event)">add img</button> -->
    
  
  </form>
  <mat-dialog-actions>
    <button mat-button (click)="onNoClick()">Cancel</button>
    <button 
      [ngClass]="!productForm.valid ? 'disabled' : null"
      [disabled]="!productForm.valid" 
      mat-button 
      [mat-dialog-close]="productForm.value" 
      >Ok</button>
  </mat-dialog-actions>
</mat-dialog-content>